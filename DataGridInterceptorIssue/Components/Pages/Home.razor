@page "/"
@using DataGridInterceptorIssue.Model

<PageTitle>Home</PageTitle>
<MudPopoverProvider />
<MudDialogProvider />
<MudSnackbarProvider />

<MudDataGrid T="UserDTO" MultiSelection="true" Items="@UserList" SortMode="SortMode.Multiple" Filterable="true" FilterCaseSensitivity="DataGridFilterCaseSensitivity.CaseInsensitive" Hideable="true">
    <ToolBarContent>
        <MudText Typo="Typo.h6">Check the pager :( </MudText>
        <MudSpacer />
    </ToolBarContent>
    <Columns>
        <SelectColumn T="UserDTO" ShowInFooter="false" />
        <PropertyColumn Property="x => x.CostCenter" Title="Centre de coût" />
        <PropertyColumn Property="x => x.EmployeeId" Title="Numéro d'employé" />
        <PropertyColumn Property="x => x.DisplayName" Filterable="true" Title="Nom" />
        <PropertyColumn Property="x => x.Description" />        
    </Columns>
    <PagerContent>
        <MudDataGridPager T="UserDTO" />
    </PagerContent>
</MudDataGrid>


@code {
    private List<UserDTO> UserList = new();

    protected override void OnInitialized()
    {
        for (int i = 0; i < 100; i++)
        {
            var user = new UserDTO
                {
                    CostCenter = i.ToString(),
                    EmployeeId = i.ToString(),
                    DisplayName = "Toto" + i.ToString(),
                    Description = "jajaj" + i.ToString(),
                };
                UserList.Add(user);
        }
    }
}